@use '../base/variables' as v;

.page-login {
  /* centrage et layout */
    /* centre la carte */
  background-image: url(/public/images/backgrounds/Bg.png);
  background-size: cover;
  position: relative;
  &.login-page {
    width: 100%;
    min-height: calc(100vh - var(--header-height, 72px));
    display: flex;
    align-items: center;
    justify-content: center;
    margin: 0;
    position: relative;
    z-index: 1;
  }

  .form-box {
    width: min(520px, 92vw);
    margin-inline: auto;
    overflow: hidden;
    border-radius: 22px;
    padding: 1.4rem;

    /* glass + border dégradée */
    background:
      linear-gradient(rgba(255,255,255,.07), rgba(255,255,255,.07)) padding-box,
      linear-gradient(120deg, v.$color-primary, v.$color-accent) border-box;
    border: 1px solid transparent;
    color: v.$color-text;
    backdrop-filter: blur(10px);
    box-shadow: 0 14px 36px rgba(0,0,0,.28);

    h1 {
      margin: .25rem 0 1rem 0;
      font-family: v.$font-display, inherit;
      letter-spacing: .4px;
      text-align: center;
      text-shadow: 0 2px 12px rgba(0,0,0,.45);
    }

    /* petites étoiles décoratives */
    position: relative;
    &::after {
      content: "";
      position: absolute; inset: -6px;
      pointer-events: none; border-radius: inherit; z-index: 0;
      background:
        radial-gradient(2px 2px at 12% 18%, rgba(255,255,255,.95), transparent 60%),
        radial-gradient(1.6px 1.6px at 82% 12%, rgba(v.$color-primary,.9), transparent 60%),
        radial-gradient(1.8px 1.8px at 24% 84%, rgba(v.$color-accent,.85), transparent 60%);
      opacity: .6;
    }
  }

  .form-group { display: grid; gap: .45rem; margin: .85rem 0; }

  label {
    font-weight: 700;
    letter-spacing: .2px;
    color: v.$color-text;
    text-shadow: 0 1px 8px rgba(0,0,0,.35);
  }

  input[type="text"],
  input[type="password"] {
    width: 100%;
    border-radius: 14px;
    padding: .8rem .95rem;
    border: 1px solid rgba(255,255,255,.18);
    background-color: rgba(10, 6, 20, .45);
    color: v.$color-text;
    outline: none;
    transition: box-shadow .2s ease, border-color .2s ease, transform .06s ease;

    &::placeholder { color: rgba(255,255,255,.6); }

    &:hover { border-color: rgba(v.$color-accent,.5); }
    &:focus {
      border-color: transparent;
      background:
        linear-gradient(rgba(10,6,20,.55), rgba(10,6,20,.55)) padding-box,
        linear-gradient(120deg, v.$color-primary, v.$color-accent) border-box;
      box-shadow: 0 8px 24px rgba(v.$color-accent,.25);
      transform: translateY(-1px);
    }

    &.has-error {
      border-color: rgba(255,110,140,.9) !important;
      box-shadow: 0 0 0 3px rgba(255,110,140,.15);
    }
  }

  /* erreurs & flashes */
  .form-error,
  .form-errors,
  .form-errors li {
    color: v.$color-text;
    background: rgba(255,110,140,.16);
    border: 1px solid rgba(255,110,140,.45);
    padding: .5rem .7rem;
    border-radius: 10px;
    margin-top: .1rem;
    font-size: .9rem;
    text-shadow: 0 1px 8px rgba(0,0,0,.2);
    list-style: none;
  }
  .mb-3 {
    background: rgba(90,230,170,.16);
    border: 1px solid rgba(90,230,170,.45);
    color: v.$color-text;
    padding: .55rem .8rem;
    border-radius: 10px;
    margin-bottom: .6rem;
    text-align: center;
  }

  /* bouton */
  .btn {
    display: inline-flex; align-items: center; justify-content: center;
    width: 100%;
    padding: .85rem 1rem;
    border-radius: 14px;
    border: 1px solid transparent;
    background: linear-gradient(90deg, v.$color-primary, v.$color-accent);
    color: #0a0512;
    font-weight: 800; letter-spacing: .2px;
    text-decoration: none; cursor: pointer;
    transition: transform .15s ease, box-shadow .2s ease, filter .15s ease;

    &:hover { transform: translateY(-1px); box-shadow: 0 12px 28px rgba(v.$color-accent,.28); }
    &:active { transform: translateY(0); }
    &:disabled { cursor: not-allowed; filter: grayscale(.25) brightness(.85); opacity: .85; }
  }

  /* fix box-sizing local */
  * { box-sizing: border-box; }
}

/* responsive léger */
@media (max-width: 560px) {
  .page-login .form-box { padding: 1.1rem; }
}
